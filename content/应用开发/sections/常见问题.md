---
title: 常见问题
---
### 常见问题

### 基本概念

#### - Deviceone是基于html5的开发平台吗？
**答：**和大家常见的跨平台工具不一样的地方是deviceone并不是基于webview+html5，deviceone开发的app里，大家看到的所有可视化组件都是纯原生的组件，和html5没有直接的关系。
但是deviceone也支持h5,deviceone可以使用do_Webview加载h5。


#### - 第三方 SDK 融合的组件有吗？如 广告、统计、分享登陆、推送通讯、支付、地图 等？
**答：**有不少，还在不断增加中

	广告有万普世纪
    统计有友盟
    分享有qq，sina，微信
    推送有百度，极光
    支付有阿里，支付宝，apple应用内支付
    地图有百度
    聊天有环信

#### - 将来会考虑做离线打包么？
**答：**已支持deviceone项目打包前对应的的Android，iOS原生项目的下载，下载之后你可以离线编译和发布。

#### - deviceone平台支持移动操作系统的最低版本是多少？
**答：**Android是4.0，IOS是7.0，Windows是win10

#### - 打包生成的IOS安装包需要越狱iphone手机吗？
**答：**不需要越狱，正常iphone手机都可以。因为调试的时候官方提供了ios的企业证书。

#### - 为什么iOS下安装应用会提示`未受信任的企业级开发者`？
**答：** 这是Apple在iOS9.0之后对企业签名的限制，解决的方法也很简单，就是`设置`--`通用`--`描述文件和设备管理`。更详细的说明可以参考[百度经验](http://jingyan.baidu.com/article/335530da83801c19cb41c39f.html)

#### - 为什么在应用配置里设置了图标,启动图片，但是安装到手机上没起作用，还是deviceone的缺省图标和启动页？
**答：** 图标，启动图片，名称，版本这些基础设置只针对`发布版本`有效，你如果打包一个调试版本是没有效果。实际上调试版本只和配置里的组件配置有关。


#### - 为什么同样的应用打包发布版本，ios的安装包一般比android的大不少？
**答：** 有2个原因
1. iOS的组件，特别是第三方组件，大小比android对应的大不少，所以第三方组件选的越多，最后安装包的大小差异越大。
2. 我们配置启动页面图片的时候只上传了一张图片，但是后台会自动生成很多分辨率的图片，特别是iOS，分辨率高的超过2m大小，要解决的办法就是对分辨率太高的图片后台可以单独上传一个新的图片，替代这些大图片。
3. 还有一个建议，这个和android，ios无关，就是你自己开发的项目最后发布前，先把所有文件按大小排序一下，可以发现很多没有用的大文件，特别是图片文件，该删除就删除，该改小就改小。

我们可以试一下新建一个项目，带了20多个组件，然后什么都不改，直接打发布版本，最后可以看到ios的ipa是2.2m，android的apk是2.8m

#### - 支持横竖屏切换吗？
**答：** 不支持动态运行时的横竖屏切换，要么一直横屏，要么一直竖屏，这个设置是在应用的配置里可以选择。
有一些特殊的组件，可以支持运行时切换，但是也只是在这个组件的范围内。

#### - 为什么有些项目的某些功能在调试版可以，打包发布版就不行了？
**答：**  大部分原因是因为你调试版本里所选组件和你发布版所选组件不一致。比如你当前项目是A，里面选了40个组件，但是你的调试版本可能是从别的地方下载的，那个是B项目打包的调试版本，用了50个组件，组件的版本和A项目都不完全一样。所以会导致调试版可以，发布版运行有问题。
解决的方法就是用A项目打包一个调试版本再去调试A项目，就能发现问题了。
用户分享定位问题方法：在调试的时候把清除缓存勾选上，在控制台查看输出结果。

#### - 为什么有时候安装deviceone的app会覆盖以前安装的app？
**答：**  iOS和android的app安装都有可能碰到这个问题。原因是操作系统认为你新安装的app和已有的一个app是同一个应用。
iOS是根据bundle id来唯一标示一个app，只要这个id一样就认为是一个app，而bundle id是由开发者证书和mobile provision文件来决定的，这些概念可以百度一下。总之，用我们官方默认的证书打包的都是公用一个bundle id，所以会被覆盖。
解决的方法就是交99美金或299美金去申请apple开发者证书，然后设置自己的证书和bundle id，这个过程比较多，可以百度之。

android是根据package name来决定的，而package name是由证书来决定的（这个说法其实不准确）。总之，在我们平台创建的应用（双击app.doproj可以看到一个appid，这个appid是deviceone的应用id），每个应用都对应一个package name，所以不同的应用（appid不一样）不会覆盖。
反之，如果appid没变，里面代码再怎么变也是被认为是一个应用。
解决的方法就不同的内容创建不同的新项目或者使用开发者中心提供的快速创建证书，创建证书的时候可以设置自己的package name。

#### - 发布版本的启动图片能不要吗？我已经有自己的启动引导页面了
**答：** 不可以，启动图片必须要有，注意看那些常见的app，启动的时候都先有一个启动静态图片，然后一闪再看到真正的引导页面（可以是动态的）。这个启动图片可以弄成纯色再加一点点缀，总之，启动图片必须有。

#### - 发布版本的启动图标设置了，但是安装到ios，桌面图标很多部分都变成黑色了
**答：** ios规定启动图标不能是透明的，任何透明部分最后都会变成黑色，换成不透明的图标就可以了。

#### - `ui("$")`解释
**答：** `ui("$")`是获取RootView下的一级视图，与ui("do_alayout")通过Id获取等效。

#### - 无法安装之证书问题（个人证书与企业证书）错误提示如'unable to download app could not be installed at this time'
**答：** 如果是发布证书，个人是无法安装的，必须上线appstore才能安装，如果用的是个人证书，有2种情况，如果是开发证书，需要配置你手机的uiid（通过工具Xcode查看）到apple官网才能安装。
个人证书 （发布版--可上传apapstore 调试版--原生开发者使用）
企业证书（发布版--不可上传apapstore，可扫描安装，调试版--原生开发者使用）

#### - 为什么用deviceone平台产生的图片带有一个.do

**答：**  因为安卓相册在读取的时候会把卡上所有的图片都读出来，加上这个可以区分一下，用户在看相册的时候就不会看到应用产生的图片了。

#### - sm, mm是什么意思？
**答：**sm,mm和ui是deviceone定义的三个基础函数。sm指单例，singletonmodule，你可以理解为静态方法，整个运行环境只有一个实例；mm指multitionmodule,可以new出多个对象。

#### - 同步方法和异步方法的区别是什么？
**答：**  有一些同学不太理解同步方法和异步方法，这里简单介绍一下，我们从代码来看：

```javascript
var result = function1();//同步方法，假设执行需要2秒
function2();//必须等待function1执行完，也就是需要等待2秒时间
```

```javascript
function3(function(data){
	//异步方法，假设执行需要20秒
	var result = data;
});
function4();//不需要等待function3执行完，也就是说function3一开始执行马上就开始执行function4
```
从上面的代码我们可以看出一些特点

	同步方法通常是执行时间比较短的操作，如果时间长的话，会影响整个代码的运行，有可能导致卡顿，体验不好；异步方法通知是执行时间不确定或者比较长的操作，不会影响代码运行
	同步方法可以直接返回结果，异步方法需要在回调函数里返回结果，直接var result = function3()是没有意义的。但是异步的写法就比较麻烦，需要一级级嵌套，多几层就晕了。
	deviceone有很多情况下会为某个功能提供2套方法，一个同步一个异步，比如读文件有readFile也有readFileAsyn，用户选择的时候要注意，如果读大一点的文件就不要用同步方法了。



#### - 支持透明背景色吗
**答：**支持，bgColor是所有UI组件的属性，它的值分4组16进制，其中最后一组表示透明值，比如FF0000FF表示颜色是FF0000（红色）最后的FF表示255表示不透明；如果透明值是00表示全透明，00~FF中间的值就是半透明，越接近0，越透明。注意：在设计器里只能看到全透明和不透明效果，半透明效果看不到，但是不影响手机上的效果。



#### - 我能不能给控件添加附加属性？ 如给一个 image 附加 userName、userId 等属性 ，当点击它的时候，获取它附加的属性 userId ，然后触发user相应的功能。
**答：**所有ui都有一个tag属性，你可以给tag属性赋任何值，包括json对象，比如
```javascript
var button = ui("button_id1");
var user = {
				userName:"aaa",
				userID:"111"
           }
button.tag = user;
```



#### - 如何给ui组件设置圆角?
**答：** 所有ui都有一个border属性，border属性值需要一定的规则，比如FF0000FF,1,50. 表示这个ui组件的边框是红色的，边框的宽度为1，边框的圆角为50，如果这个ui组件是宽高是100\*100,那就正圆了。参考[例子](http://source.deviceone.net/source-detail.html?downloadCount=0&projectId=39d9f096b06448be9756ce6e15665522)




#### - 我每codeing几行代码，就得提交编译一下？ 还是只下载一次调试app，以后在app上可以点“更新”即可？
**答：**只下一次，然后app更新，但是如果要使用新的组件或者使用新版本的组件需要重新勾选或升级组件，然后重新打包。

#### - deviceone能使用JQuery吗？
**答：**deviceone是利用javascript语言来编写代码逻辑。其本质上和node.js类似，使用v8或jscore引擎来解析，但是和html无关。而jquery是和html，css结合紧密的一个js库，deviceone是不能使用的。deviceone要使用其它js需要使用require方法（也是类似node.js), 而且对应的js里的函数需要module.exports来声明；
 当然deviceone也是支持html的，deviceone有一个do_Webview组件，它可以加载html和jquery等大家熟悉的web相关的js库。使用方法可以参考[文档](http://source.deviceone.net/source-detail.html?downloadCount=0&projectId=39d9f0ccfdf04a5b4a7c4e1f67bc7250)

#### - app使用第三方插件，很多appid,appkey，申请起来麻烦死，哪里有免费共享的
**答：**这个没办法的，比如你使用baidu地图，你必须去百度上申请这个key，有的第三方插件要求不严格，可以共用，有的第三方要求很严格，不能共用。最主要的是很多都有自己的管理后台，必须用这个appid去查看数据什么的。

#### - 打ios包必须申请证书吗？
**答：**如果只是调试，不需要申请证书，官方提供免费试用的企业签名。但是这个我们提供的缺省证书主要的目的是帮助您快速开发和调试使用，此证书是不能上传AppStore的。所以如果自己要长期开发ios应用，还是得花99美元申请自己的apple开发者。
另外调试一些第三方组件，比如百度地图之类的也必须要有自己的apple开发者证书。
总之，做ios开发，申请自己apple开发者是必须的。



#### - 有时候android发布包和调试包无法安装？
**答：** 是因为版本号的原因，版本低的替换不了版本高的，你的手机上可能有一个更高版本的调试版本或发布版版本。
发布安装包的版本号是在应用配置里填写的，而调试安装包的版本号是不随应用配置版本号改变的；所以当发布安装包的版本号大于调试安装包的版本号是可以替换的，反之则不行。
此时只需要将原有的安装包卸载，再重新安装需要安装的包即可。

#### - 为什么ios上有时候用external.openURL()浏览器无法启动？
**答：** 地址包含中文或其它特殊字符，需要转码一下才可以，如encodeURI("http://doc.deviceone.net/web/doc/faq.htm#-为什么iOS下安装应用会提示")

#### - 如何看包名?
**答：** 包名跟证书相关，默认证书的调试包的包名是'com.dodebugger'，有自己证书的包名查看步骤分两步，1，在官网开发网站当前应用中找到平台配置，找到证书名称，2，点击管理在证书列表中找到对应的包名。

#### - border不起作用?
**答：**  border不起作用的原因是最后二位是00。最后两位数是透明度，是十六进制的，00为全透明，ff是不透明。


#### - border的使用说明?
**答：** 圆角跟边框都可以使用ui组件都border属性来控制，如果是一个边的框建议使用label来绘制。


#### - bbs附件解压失败怎么办?
**答：** 下载个360压缩工具，如果这个还有问题可以联系官方！网址为：http://yasuo.360.cn/  mac电脑可以用`7zX`，解压zip，`Dr. Unarchiver`解压rar

#### - 在DeviceOne平台创建的证书有效期是多长时间?
**答：** 安卓有效期是1000年，附上ios的有效期ios的证书缺省都是1年。


#### - DeviceOne平台如何连接数据库?
**答：**
1) 手机端数据库SQLite,使用do_SQLite组件
2) 服务端数据库,使用do_Http组件链接服务,服务端再读写数据库



----
###IDE问题


#### - IDE能输入一个字母就自动补全吗？
**答：**IDE是基于Eclipse的，缺省的补全需要敲组合键`ALT+/`.但是Eclipse也能做的自动补全，需要简单的设置一下。

#### - 安装IDE后打不开，怎么回事？
**答：**IDE是完全基于Eclipse的，基本上打不开的问题是JRE的问题，详细参考[文档](../../../应用开发/sections/IDE的安装使用)
#### - 打包正式包时，是否会对代码做编译混淆，防止破解、反编译？
**答：**可以做到。有代码加密和数据加密二部分。参考[文档](../../../应用开发/sections/应用加密)

#### - 为什么有一些组件在设计器的设计区的组件区(components)看不到?
**答：**有二种可能

1) 只有UI组件才能在哪个位置看到，SM，MM组件因为不能可视化，所以没必要放在这里。只有UI组件才可以拖拽到画布上。
2) 新建项目缺省只有20多个组件，UI组件只有10几个，如果需要更多组件，需要添加组件和更新组件，这个问题可以参考[文档](http://doc.deviceone.net/web/doc/detail_course/add_comp.htm)
>注意：同步完组件后需要关闭ui文件再打开就可以了

#### - 目前不能做到单步跟踪调试，只能打日志调试对吧
**答：**	 对，目前无法单步，只能print，alert，toast这种方式，参考[文档](../../../应用开发/sections/代码调试)



#### - 中文乱码,怎么解决?
**答：** 对比一下文件的格式和workspace的格式是不是都是utf-8的。两种相关操作步骤，
         1 选中项目右击-->Properties  -->Text file encoding
         2 windows-->Genneral-->workspace-->Text file encoding
     注意关闭重新打开


#### - 提示如下错误怎么处理

![](../../images/cjwt001.png)


**答：** 确认下自己ide 的版本号，通常情况下是版本过低，[官网地址](http://doc.deviceone.net/web/doc/env/ide.htm)下载新版，重新解压即可正常使用。

#### - 设计器窗口显示异常,怎么解决?
**答：** 窗口复位下即可，windows->perspective->reset perspective


#### - 设计器不停的弹出错误窗口，怎么解决?
**答：** 出现这种错误检查下js 代码是否，有函数名跟函数内变量名称一样了，或者类似的这种用法，比如

```javascript
fun1(){
	//函数名和变量名都叫fun1，会导致设计器检测异常
	var fun1 = "sss";
}
```
建议按照命名规则起名字，不同作用的变量名称格式不要一样。避免这种问题。如果修改后还有这种问题，请及时反馈给官方。如果需要屏蔽掉这种错误参考链接"http://stackoverflow.com/questions/11334026/eclipse-error-constantly-pops-up-while-editing-javascript"
关闭Mark Occurrences，参考菜单--Window--Preferences 附图
![](../../images/cjwt002.png)


#### - 设计器项目上出现红叉，怎么解决?
**答：** 有两个方向：1，如果版本号是1.6.3以上的，点击同步一下，如果不是就升级一下ide；2，如果这两个都有操作过还有红叉，确认下是否装了svn 或者git 等版本控制的工具，忽略掉.metadata，请记得把 .metadata设置为作为ignore项。这两个都操作过依然有问题就请联系官方！

#### - 把一个ui隐藏后，怎么编辑一个ui的参数?
**答：** IDE 中有个Outlinee窗口展示出了当前ui试图的所有ui 组件，选中后查看Properties 窗口，IDE的窗口也是可以拖拽的，拖成上下布局（默认是左右布局的），即可切换修改进行编辑！


#### - 不小心关闭了IDE的一个子窗口，如何再找回来?
**答：** 比如你关闭了`Logger`窗口，则通过 菜单--Windows--Show View--Other--搜索框搜索`Logger`即可。

#### - 一直提示`Updating   Software  has。encountered a problem，  An error  occourred。while uninstalling`升级错误?
**答：** 把自动升级里关于eclipse的升级去掉，只保留deviceone的自动升级即可。 参考![](../../images/cjwt003.png)


#### - 如何查看当前项目的组件列表?
**答：** 通过查看列表可以快速定位，导入的旧项目是否需要更新，Deviceone--Tools--组件--选择项目



#### - 设计器上点击登录没有反应?
**答：** 这个有两个原因1：网络，2：`关闭防火墙`，3：mac电脑需要把图标`拖进应用程序`。网络问题不常见，通常情况下把防火墙关了，重启设计器即可。如果这两个都没问题了，用户分享了一个解决方案也不错，删掉旧的重新解压一个



#### - 设计器导入项目后没有`Finish`按钮可以点击?
**答：** 有以下三个地方需要确认,有更多情况欢迎反馈给我们。

>1:`Import`之后选择的是否是`DeviceOne-->Exiting Projects into Workspace`,

>2:导入的文件格式目录是否与[官方目录结构](http://doc.deviceone.net/web/doc/detail_course/project_structure.htm)一致，不一致的的话就新建一个，把改文件拷贝进项目中，

>3:是否在项目列表中已经存在该名称的项目，删掉旧的项目，或者点击已有的项目右击重命名

----

###非ui组件



#### - 设备按键事件,退出应用,home方法？
**答：** 返回键事件:  sm("do_Page").on("back",function(){}); 退出应用方法: sm("do_Global").exit(); home 方法sm("do_Device").home();组件的方法与事件通常是有规律的，可以在这几个组件里找可能用到的方法。





#### - 为什么不少组件返回的图片后缀名都是.do?
**答：** Android会有这种情况，如果不加这个后缀，Android系统会自动把所有图片加到系统的相册索引里，影响用户。加了后缀并没有修改文件到任何特性，不影响Imageview加载图片，也不影响Http发送到服务端。



#### - 如何拨打电话?
**答：** do_External.openDial(),参考[API](http://store.deviceone.net/documents/do_External/2.9.html#openDial)

#### - 为什么地图相关组件引用对了，却只显示网格，不显示地图?
**答：** 如果只能看到网格，肯定是key设置错了，需要配置一下。




----
###错误相关

#### - 总是提示遇到无效的UI组件是怎么回事？
**答：**调试程序缺省没有包含所有组件，如果你使用一个没有包含的组件，就会报这个错误，参考[文档](http://doc.deviceone.net/web/doc/detail_course/add_comp.htm)

#### - Logger提示xxxx组件找不到，没定义等，比如
`Class SM.do_DateTimePicker has not been defined`
**答：**这个问题通常是你没有在调试版里选择这个组件，需要勾选这个组件，然后重新打包，详细可以参考[文档](http://doc.deviceone.net/web/doc/detail_course/add_comp.htm)

#### - 调试do_ListView和do_Listdata的时候碰见Logger提示索引不存在的错误提示，比如：
`java.lang.Exception: 索引 0 不存在`
**答：**通常问题是因为ListView的templates属性没有设置任何值，或者设置的ui文件找不到之类的问题。

#### -  Logger提示类型错误。比如`TypeError: 'undefined' is not an object (evaluating 'e_download.on')`, 'Cannot read property 'xxx' of undefined'
**答：** 比如这个例子e_download这个对象调用on函数，但是e_download是`undefined`.原因可能是二个

	对象定义了，但是没有赋值
	对象赋值了，但是赋值的语句执行失败了。

#### - Logger提示UI对象的访问路径无效:xxxx?
**答：** 比如你在1.ui.js里执行var a = ui("xxxx"),那么系统就会去1.ui里遍历所有ui，看看有没有那个ui的id属性是"xxxx",但是对应的ui文件里没有任何一个组件的id叫xxxx,所以会报这个错误。

#### - 在app.js里创建mm对象会提示错误:
`创建MM时，当前的页面无效`
**答：** mm函数缺省构建一个page作用域的对象，page关闭后这个对象自动释放。如果在app.js里创建还没有page，只能创建app作用域的对象，格式大概如下:

```javascript
	var http = mm("do_Http","id1","app");
```
详细参考[文档](../../../应用开发/sections/组件概述)

#### - `Maximum call stack size exceeded`错误
**答：** 通常是js代码里有死循环导出内存溢出。仔细查看代码里看看是否有互相调用的函数代码。


#### - `模板不存在 xxxx (null) 该模板不存在`错误
**答：** 通常是xxxx这个组件（一般是do_GridView)的templates属性没有值，需要给templates赋值

#### - `试图使用一个无效的页面文件`错误
**答：** 通常是你的代码里使用一个函数的参数是一个ui路径，但是这个路径写错了。  
如果是组件的template属性的路径，在确认路径正确之后，复制出来，重新选择复制，注意不要复制多余的空格，重新更新即可！


#### - 打包失败错误定位
**答：**打包的时候项目资源文件不允许中文，组件打包的jdk版本是1.7，用户通常用的是1.8的，具体错误提示点击打包失败旁边的详情，看下链接最下面的最后一个info的内容，![](../../images/cjwt004.png)

#### - 安卓发布版包崩溃问题定位
**答：**包名-->data-->应用ID-->log-->crashLog.txt(log日志 ); 包名跟证书名称一样，如果没有证书就是com.dodebugger,应用id 跟平台配置的一致，定位到问题后，能看懂的时候自己解决下，不能解决的时候，联系官方。

#### - LoadScriptsAsModule 函数执行失败
**答：** 通常是没有引入deviceone 或者是，在非ui的js里直接使用了sm("")，或者mm("")等方法;正确的调用方法是u：require("deviceone").sm("do_App");

#### - HTTP  400 服务拒绝请求
**答：**  如果是https，可能是证书问题;

[回到顶部](#top)
