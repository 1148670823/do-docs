---
title: 应用加密
---
### 应用加密

出于安全性，**Deviceone**提供了两种加密机制，用于保证项目源码的安全性和重要数据不外泄。
这里所说的加密，是<mark>只针对发布版</mark>，即apk、ipa、appx文件解压后看不到源代码的内容，安装到手机上后，运行时产生的安全数据即使被找到了也无法识别；Debug版本的所有代码都不加密，也不混淆。

### 一、源代码加密
源代码加密主要针对以下几类文件：
#### <font color ='#40A977'>**1.**</font> **`ui.js`**文件，该文件是ui文件对应的JavaScript脚本文件，缺省不加密，有加密需求的用户可以通过打包时在应用配置里勾选`源代码加密`的选项来实现该功能。需要注意的是，这里的加密是指给整个项目中所有的`ui.js`加密，同时包括`app.js`，加密成二进制。

 ![](../../images/yyjm001.png)
#### <font color ='#40A977'>**2.**</font> **`ui.lua`**文件，该文件是ui文件对应的`Lua`脚本文件，暂时不支持加密，因为Lua的require函数是系统提供的，无法控制。

#### <font color ='#40A977'>**3.**</font> **`ui`**文件，它的功能是描述UI页面展示的树状结构json文件，因为不涉及到业务和数据，该文件目前不会缺省加密，后期会让用户定制加密。

#### <font color ='#40A977'>**4.**</font> 而对于另外一种`.js`文件，即普通的JavaScript脚本文件，如果是source/script 目录下的js文件，不会加密，因为加密的js文件不能作为HTML加载的js，所以缺省不会加密的。
>如果要使用加密，可以把js扩展名改成ui.js,然后require的时候也增加".ui"。比如:
script下一个文件叫1.js，你在别的地方用它的时候是require("1")  这个文件是不加密的
改成
script下一个文件 1.ui.js ,你在别的地方用它的时候是require("1.ui")  这个文件是加密的

### 二、数据加密
对于数据的加密主要指下面两种情况：

#### <font color ='#40A977'>**1.**</font> **数据的缺省加密方式**
app运行时可以通过`do_Storage`类read和write方法，我们提供了一个缺省的加密方式来加密数据。加密的算法和你的开发者账号以及appid相关。
具体可以参考Storage组件的方法。

#### <font color ='#40A977'>**2.**</font> **数据的自定义加密方式**
用户完全可以用我们提供的加密组件或者自己开发的原生加密组件来加密数据。比如`do_Algorithm`的des3加密。或者`M1294_RSA`组件的rsa加密算法。

### 三、注意
需要注意的是，如果在应用配置中选择了代码加密或者使用了数据加密的缺省方式，在使用设计器打包时<mark>不要再切换appID</mark>，因为加密和appID以及开发者账号是相关的：

	若切换了appID则旧的加密过的源代码和数据文件无法正常操作
	而且切换appID后，已经安装的旧的app就无法正常实现应用内升级了

[回到顶部](#top)
